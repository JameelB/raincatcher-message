<!--
 CONFIDENTIAL
 Copyright 2016 Red Hat, Inc. and/or its affiliates.
 This is unpublished proprietary source code of Red Hat.
-->
<md-toolbar class="content-toolbar md-primary">
  <div class="md-toolbar-tools">
    <h3>New message</h3>
  </div>
</md-toolbar>

<form name="messageForm" ng-submit="ctrl.done(messageForm.$valid)" novalidate layout-padding layout-margin>

  <!--
  <md-input-container>
    <label for="messageState">Status</label>
    <input type="text" id="inputmessageType" name="messageStatus" ng-model="ctrl.model.status" disabled="true">
  </md-input-container>
  -->


<div>
  <md-input-container class="md-block">
    <label for="To">To</label>
    <md-select ng-model="ctrl.model.receiver" name="receiver" id="receiver">
       <md-option ng-repeat="worker in ctrl.workers" value="{{worker}}">{{worker.name}} ({{worker.position}})</md-option>
     </md-select>
  </md-input-container>
</div>

<div>
  <md-input-container class="md-block">
    <label>Subject</label>
    <input type="text" id="inputSubject" name="subject" ng-model="ctrl.model.subject" required>
    <div ng-messages="messageForm.subject.$error" ng-if="ctrl.submitted || messageForm.subject.$dirty">
      <div ng-message="required">A subject is required.</div>
    </div>
  </md-input-container>
</div>

<div>
  <md-input-container class="md-block" ng-class="{ 'has-error' : messageForm.summary.$invalid && !messageForm.summary.$pristine }">
    <label for="inputContent">Message</label>
    <textarea id="inputContent" name="content" ng-model="ctrl.model.content" required md-maxlength="350"></textarea>

    <div ng-messages="messageForm.summary.$error" ng-show="ctrl.submitted || messageForm.summary.$dirty">
      <div ng-message="required">A summary date is required.</div>
    </div>
  </md-input-container>
</div>

  <md-button type="submit" class="md-raised md-primary">Send message</md-button>
</form>
